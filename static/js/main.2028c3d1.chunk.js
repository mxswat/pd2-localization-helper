(this["webpackJsonppd2-locale-helper"]=this["webpackJsonppd2-locale-helper"]||[]).push([[0],{134:function(e,t,n){},135:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(44),c=n.n(r),i=(n(134),n(101)),l=n(68),s=(n(135),new function(){var e=this,t=/{[A-Z_]+[0-9]*}/gi,n={URL:"((?:(?:[a-z][a-z\\d+\\-.]*:\\/{2}(?:(?:[a-z0-9\\-._~\\!$&'*+,;=:@|]+|%[\\dA-F]{2})+|[0-9.]+|\\[[a-z0-9.]+:[a-z0-9.]+:[a-z0-9.:]+\\])(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~\\!$&'*+,;=:@|]+|%[\\dA-F]{2})*)*(?:\\?(?:[a-z0-9\\-._~\\!$&'*+,;=:@\\/?|]+|%[\\dA-F]{2})*)?(?:#(?:[a-z0-9\\-._~\\!$&'*+,;=:@\\/?|]+|%[\\dA-F]{2})*)?)|(?:www\\.(?:[a-z0-9\\-._~\\!$&'*+,;=:@|]+|%[\\dA-F]{2})+(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~\\!$&'*+,;=:@|]+|%[\\dA-F]{2})*)*(?:\\?(?:[a-z0-9\\-._~\\!$&'*+,;=:@\\/?|]+|%[\\dA-F]{2})*)?(?:#(?:[a-z0-9\\-._~\\!$&'*+,;=:@\\/?|]+|%[\\dA-F]{2})*)?)))",LINK:"([a-z0-9-./]+[^\"' ]*)",EMAIL:"((?:[\\w!#$%&'*+-/=?^`{|}~]+.)*(?:[\\w!#$%'*+-/=?^`{|}~]|&)+@(?:(?:(?:(?:(?:[a-z0-9]{1}[a-z0-9-]{0,62}[a-z0-9]{1})|[a-z]).)+[a-z]{2,6})|(?:\\d{1,3}.){3}\\d{1,3}(?::\\d{1,5})?))",TEXT:"(.*?)",SIMPLETEXT:"([a-zA-Z0-9-+.,_ ]+)",INTTEXT:"([a-zA-Z0-9-+,_. ]+)",IDENTIFIER:"([a-zA-Z0-9-_]+)",COLOR:"([a-z]+|#[0-9abcdef]+)",NUMBER:"([0-9]+)"},o=[],a=[],r=[],c=[],i=function(e){var o=e.match(t),a=o.length,r=0,c="";if(a<=0)return new RegExp(s(e),"g");for(;r<a;r+=1){var i=o[r].replace(/[{}0-9]/g,"");n[i]&&(c+=s(e.substr(0,e.indexOf(o[r])))+n[i],e=e.substr(e.indexOf(o[r])+o[r].length))}return c+=s(e),new RegExp(c,"gi")},l=function(e){var o=e.match(t),a=o.length,r=0,c="",i={},l=0;if(a<=0)return e;for(;r<a;r+=1){var s,d=o[r].replace(/[{}0-9]/g,"");i[o[r]]?s=i[o[r]]:(s=l+=1,i[o[r]]=s),n[d]&&(c+=e.substr(0,e.indexOf(o[r]))+"$"+s,e=e.substr(e.indexOf(o[r])+o[r].length))}return c+=e};function s(e,t){return(e+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(t||"")+"-]","g"),"\\$&")}e.addBBCode=function(e,t){o.push(i(e)),a.push(l(t)),r.push(i(t)),c.push(l(e))},e.bbcodeToHtml=function(e){for(var t=o.length,n=0;n<t;n+=1)e=e.replace(o[n],a[n]);return e},e.htmlToBBCode=function(e){for(var t=r.length,n=0;n<t;n+=1)e=e.replace(r[n],c[n]);return e},e.addBBCode("##{TEXT}##",'<span class="pd2-blue">{TEXT}</span>')}),d=n(159),u=n(158),f=n(156),h=n(157),b=[["locale_key_one","Localized Text here"],["locale_key_two","Localized Text here"],["locale_key_three","Localized Text here"],["locale_key_four","Localized Text here"]],j=n(9);function p(e){var t=e.textKey,n=e.text,a=e.onUpdated,r=e.onDeleted,c=Object(o.useState)(""),i=Object(l.a)(c,2),b=i[0],p=i[1],v=Object(o.useState)(""),g=Object(l.a)(v,2),x=g[0],O=g[1],w=Object(o.useState)(""),m=Object(l.a)(w,2),z=m[0],T=m[1],y=Object(o.useState)(5),k=Object(l.a)(y,2),_=k[0],A=k[1],L=function(e){return{content:e||"Hey, this is empty",pointing:"below"}};return Object(o.useEffect)((function(){if(t&&!z){n=n||"",p(t),O(n);var e=s.bbcodeToHtml(n);T(e),A(n.split(/\r\n|\r|\n/).length)}}),[t,n,z]),Object(j.jsx)(f.a,{children:Object(j.jsxs)(u.a,{className:"editor",children:[Object(j.jsxs)(u.a.Group,{widths:"equal",children:[Object(j.jsx)(u.a.Input,{label:"Localization Key",type:"text",defaultValue:b,onBlur:function(e){return t=e.target.value,p(t),void(t&&a({textKey:t}));var t},error:!b&&L("This field must have a value! If you want to remove it, click on the delete button")}),Object(j.jsx)(d.a,{className:"delete-btt",color:"red",onClick:function(){return r(b)},children:"Remove"})]}),Object(j.jsx)(u.a.TextArea,{className:"no-resize",rows:_,label:"Localized text",defaultValue:x,onChange:function(e){return function(e){O(e);var t=s.bbcodeToHtml(e);T(t),A(e.split(/\r\n|\r|\n/).length),a({text:e})}(e.target.value)},error:!x&&L()}),Object(j.jsxs)(u.a.Field,{children:[Object(j.jsx)("label",{children:"Result"}),Object(j.jsx)("div",{className:"result",dangerouslySetInnerHTML:{__html:z}})]}),Object(j.jsx)(h.a,{})]})})}var v=function(){var e=Object(o.useState)(b),t=Object(l.a)(e,2),n=t[0],r=t[1],c=a.a.createRef();function s(e){console.log(e.target.result);try{var t=JSON.parse(e.target.result),n=Object.keys(t).reduce((function(e,n){return e.push([n,t[n]]),e}),[]);r(n)}catch(o){alert("Hey, this file is not a valid localization file (a JSON file)")}}return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{children:Object(j.jsx)(f.a,{children:Object(j.jsxs)("div",{className:"toolbar",children:[Object(j.jsx)(d.a,{children:"New Project"}),Object(j.jsx)(d.a,{onClick:function(){var e;return null===(e=c.current)||void 0===e?void 0:e.click()},children:"Load from file"}),Object(j.jsx)(d.a,{onClick:function(){return function(){var e=n.reduce((function(e,t){return e[t[0]]=t[1],e}),{}),t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),o=document.createElement("a");o.setAttribute("href",t),o.setAttribute("download","locale.json"),document.body.appendChild(o),o.click(),setTimeout((function(){document.body.removeChild(o)}),10)}()},children:"Save to file"}),Object(j.jsx)("div",{className:"spacer"}),Object(j.jsx)(d.a,{onClick:function(){return function(){var e=Object(i.a)(n),t=["Random_string_".concat((new Date).getMilliseconds()),""];e.push(t),r(e)}()},children:"Add new Line"}),Object(j.jsx)("input",{ref:c,hidden:!0,label:"Load file",onChange:function(e){var t=new FileReader;t.onload=s,e.target.files[0]&&t.readAsText(e.target.files[0])},id:"file",type:"file"})]})})}),Object(j.jsx)("div",{className:"lists",children:n.map((function(e,t){return Object(j.jsx)(p,{textKey:e[0],text:e[1],onUpdated:function(e){return function(e,t){var o,a,c=Object(i.a)(n);null!==(o=e.textKey)&&void 0!==o&&o?c[t]=[e.textKey,c[t][1]]:null!==(a=e.text)&&void 0!==a&&a&&(c[t]=[c[t][0],e.text]),r(c)}(e,t)},onDeleted:function(){return function(e){var t=Object(i.a)(n);t.splice(e,1),r(t)}(t)}},t+e[0])}))})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,161)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),o(e),a(e),r(e),c(e)}))},x=(n(143),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function O(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pd2-localization-helper",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pd2-localization-helper","/service-worker.js");x?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):O(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):O(t,e)}))}}(),g()}},[[144,1,2]]]);
//# sourceMappingURL=main.2028c3d1.chunk.js.map